{{> head}}
{{> header}}

<main class="site-root">
  <!-- Banner Slider -->
  <section class="banner-top">
    <div class="container">
      <div class="banner-slider-wrapper">
        {{#if banners.length}}
        <div class="banner-slider">
          {{#each banners}}
          <div class="banner-slide {{#if @first}}active{{/if}}">
            <img src="{{this.banner_image}}" alt="{{this.title}}" loading="{{#if @first}}eager{{else}}lazy{{/if}}" decoding="{{#if @first}}sync{{else}}async{{/if}}" />
            <div class="banner-overlay">
              <h2>{{this.title}}</h2>
            </div>
          </div>
          {{/each}}
        </div>
        
        <button class="slider-nav prev" onclick="moveSlide(-1)" aria-label="Previous" style="display:none;">‹</button>
        <button class="slider-nav next" onclick="moveSlide(1)" aria-label="Next" style="display:none;">›</button>
        
        <div class="slider-dots" style="display:none;">
          {{#each banners}}
          <span class="dot {{#if @first}}active{{/if}}" onclick="currentSlide({{@index}})"></span>
          {{/each}}
        </div>
        {{else}}
        <!-- Fallback ke banner default jika tidak ada banner dari database -->
        <div class="banner-wrap">
          <img src="/img/banner-hero.png" alt="Hero banner" loading="eager" decoding="sync" />
        </div>
        {{/if}}
      </div>
    </div>
  </section>

  <!-- About / illustration + text (Figma layout) -->
  <section id="about" class="about-row">
    <div class="container" style="max-width:1280px;margin:0 auto;">
      <div class="about-illustration">
        <img src="/img/illustration.png" alt="illustration" width="722" height="600" style="width:100%;border-radius:8px;" loading="lazy" decoding="async" />
      </div>
      <div class="about-card">
        <div class="about-text">
          <p>Pluvia Academy adalah akademi coding online yang dirancang untuk semua orang, dari pemula hingga profesional berpengalaman. Kami menawarkan berbagai program yang menarik dan interaktif untuk membantu Anda mempelajari bahasa pemrograman, membangun aplikasi web dan mobile, dan banyak lagi.</p>

          <p>Misi kami adalah untuk memberdayakan orang-orang dengan keterampilan coding yang mereka butuhkan untuk sukses di era digital ini. Kami percaya bahwa coding adalah alat yang ampuh yang dapat membantu Anda mencapai tujuan Anda, baik itu memulai bisnis Anda sendiri, beralih ke karir baru, atau hanya ingin lebih memahami dunia di sekitar Anda. Kami juga menyediakan materi dan keterampilan coding yang dibutuhkan banyak perusahaan di era digital ini, membuka pintu gerbang menuju karir yang cemerlang dan gaji yang menjanjikan.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Keunggulan / Features -->
  <section id="features" class="courses">
    <div class="container">
      <h2>Keunggulan Pluvia Academy</h2>
      <div class="grid" style="max-width:1100px;margin:0 auto;">
        <div class="course-card feature-card">
          <div class="card-media"><img src="/img/Belajar.png" alt="Private class" width="240" height="140" loading="lazy" decoding="async"/></div>
          <h3>Private Class</h3>
          <p class="meta">Kelas kecil (avg 10 peserta) agar interaksi dengan instruktur maksimal dan materi terserap efektif.</p>
        </div>

        <div class="course-card feature-card">
          <div class="card-media"><img src="/img/Buku.png" alt="Materi" width="240" height="140" loading="lazy" decoding="async"/></div>
          <h3>Materi Lengkap</h3>
          <p class="meta">Materi up-to-date dan berbasis proyek, lengkap dengan modul praktek dan penilaian berkala.</p>
        </div>

        <div class="course-card feature-card">
          <div class="card-media"><img src="/img/Rupiah.png" alt="Harga" width="240" height="140" loading="lazy" decoding="async"/></div>
          <h3>Harga Bersahabat</h3>
          <p class="meta">Biaya terjangkau dengan opsi beasiswa dan diskon untuk kelompok serta paket bundling.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Anggota -->
  <section id="members" style="padding:24px 0;">
    <div class="container text-center">
      <h2 style="color:#fff;">Anggota Kami</h2>
      <div style="display:flex;gap:48px;justify-content:center;margin-top:18px;flex-wrap:wrap;">
        <div class="member">
          <img src="/img/member-dolly.png" alt="Dolly" width="160" height="160" class="avatar" />
          <div class="member-name">Dolly Anggara</div>
        </div>
        <div class="member">
          <img src="/img/member-fattan.png" alt="Fattan" width="160" height="160" class="avatar" />
          <div class="member-name">Fattan Naufan Islami</div>
        </div>
      </div>
    </div>
  </section>

  <!-- Testimoni -->
  <section id="testimoni" style="padding:24px 0;">
    <div class="container" style="max-width:1100px;margin:0 auto;">
      <h2 style="color:#fff;text-align:center;font-size:32px;font-weight:800;margin-bottom:8px;text-shadow:5px 5px 4px rgba(0,0,0,0.25);">Testimoni</h2>
      <div class="testimonial-card">
        <p class="testimonial-text">"Saya sangat bersyukur telah mengikuti Pluvia Academy. Pluvia Academy telah membantu saya untuk meningkatkan nilai saya di sekolah. Saya sekarang lebih percaya diri dalam mengerjakan soal-soal dan saya lebih mudah memahami materi pelajaran."</p>
        <div class="testimonial-ident">
          <img src="/img/testimoni-mark.png" alt="mark" class="testimonial-overlap" width="126" height="124" />
          <div class="testimonial-meta">
            <div class="testimonial-name">Mark Wilson</div>
            <div class="testimonial-role">CEO of ReadBook</div>
          </div>
        </div>
      </div>
    </div>
  </section>

</main>

<style>
/* Feature Cards Animation */
.feature-card {
  opacity: 0;
  transform: translateY(30px);
  animation: fadeInUp 0.6s ease forwards;
  transition: all 0.3s ease;
  position: relative;
  overflow: hidden;
}

.feature-card:nth-child(1) {
  animation-delay: 0.1s;
}

.feature-card:nth-child(2) {
  animation-delay: 0.2s;
}

.feature-card:nth-child(3) {
  animation-delay: 0.3s;
}

@keyframes fadeInUp {
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.feature-card:hover {
  transform: translateY(-12px) scale(1.02);
  box-shadow: 0 12px 40px rgba(0, 123, 255, 0.2);
}

.feature-card:hover .card-media img {
  transform: scale(1.1);
}

.feature-card .card-media {
  overflow: hidden;
  border-radius: 12px;
}

.feature-card .card-media img {
  transition: transform 0.4s ease;
}

.feature-card::before {
  content: '';
  position: absolute;
  top: -50%;
  left: -50%;
  width: 200%;
  height: 200%;
  background: linear-gradient(135deg, transparent, rgba(0, 212, 255, 0.1), transparent);
  transform: rotate(45deg);
  transition: all 0.6s ease;
  opacity: 0;
}

.feature-card:hover::before {
  left: 100%;
  opacity: 1;
}

.feature-card h3 {
  transition: color 0.3s ease;
}

.feature-card:hover h3 {
  background: linear-gradient(135deg, #00d4ff 0%, #007bff 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.banner-slider-wrapper {
  position: relative;
  width: 100%;
  max-width: 1280px;
  margin: 0 auto;
  overflow: hidden;
  border-radius: 12px;
}

.banner-slider {
  position: relative;
  width: 100%;
  height: 400px;
}

.banner-slide {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  opacity: 0;
  transition: opacity 0.5s ease-in-out;
  display: flex;
  align-items: center;
  justify-content: center;
}

.banner-slide.active {
  opacity: 1;
}

.banner-slide img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: 12px;
}

.banner-overlay {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  background: linear-gradient(to top, rgba(0,0,0,0.8) 0%, rgba(0,0,0,0.4) 50%, transparent 100%);
  color: white;
  padding: 40px 30px 30px;
  border-radius: 0 0 12px 12px;
}

.banner-overlay h2 {
  font-size: 32px;
  font-weight: 800;
  margin: 0 0 10px 0;
  text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
}

.banner-overlay p {
  font-size: 16px;
  margin: 0;
  line-height: 1.5;
  max-width: 800px;
  text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
}

.slider-nav {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  background: rgba(255, 255, 255, 0.9);
  border: none;
  color: #333;
  font-size: 36px;
  font-weight: bold;
  cursor: pointer;
  padding: 12px 18px;
  border-radius: 50%;
  transition: all 0.3s ease;
  z-index: 10;
  width: 50px;
  height: 50px;
  display: flex;
  align-items: center;
  justify-content: center;
  line-height: 1;
}

.slider-nav:hover {
  background: rgba(255, 255, 255, 1);
  box-shadow: 0 4px 12px rgba(0,0,0,0.2);
}

.slider-nav.prev {
  left: 20px;
}

.slider-nav.next {
  right: 20px;
}

.slider-dots {
  position: absolute;
  bottom: 15px;
  left: 50%;
  transform: translateX(-50%);
  display: flex;
  gap: 10px;
  z-index: 10;
}

.dot {
  width: 12px;
  height: 12px;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.5);
  cursor: pointer;
  transition: all 0.3s ease;
}

.dot:hover {
  background: rgba(255, 255, 255, 0.8);
}

.dot.active {
  background: rgba(255, 255, 255, 1);
  width: 14px;
  height: 14px;
}

@media (max-width: 768px) {
  .banner-slider {
    height: 300px;
  }
  
  .banner-overlay h2 {
    font-size: 24px;
  }
  
  .banner-overlay p {
    font-size: 14px;
  }
  
  .slider-nav {
    width: 40px;
    height: 40px;
    font-size: 28px;
    padding: 8px 12px;
  }
  
  .slider-nav.prev {
    left: 10px;
  }
  
  .slider-nav.next {
    right: 10px;
  }
}

@media (max-width: 480px) {
  .banner-slider {
    height: 250px;
  }
  
  .banner-overlay {
    padding: 20px 15px 15px;
  }
  
  .banner-overlay h2 {
    font-size: 20px;
  }
  
  .banner-overlay p {
    font-size: 13px;
  }
}
</style>

<script>
let currentSlideIndex = 0;

function showSlide(n) {
  const slides = document.querySelectorAll('.banner-slide');
  const dots = document.querySelectorAll('.dot');
  
  if (!slides.length) return;
  
  if (n >= slides.length) currentSlideIndex = 0;
  if (n < 0) currentSlideIndex = slides.length - 1;
  
  slides.forEach(slide => slide.classList.remove('active'));
  dots.forEach(dot => dot.classList.remove('active'));
  
  slides[currentSlideIndex].classList.add('active');
  if (dots[currentSlideIndex]) {
    dots[currentSlideIndex].classList.add('active');
  }
}

function moveSlide(n) {
  currentSlideIndex += n;
  showSlide(currentSlideIndex);
}

function currentSlide(n) {
  currentSlideIndex = n;
  showSlide(currentSlideIndex);
}

// Auto-slide every 5 seconds
let autoSlideInterval;
function startAutoSlide() {
  autoSlideInterval = setInterval(() => {
    currentSlideIndex++;
    showSlide(currentSlideIndex);
  }, 5000);
}

function stopAutoSlide() {
  clearInterval(autoSlideInterval);
}

// Initialize slider
document.addEventListener('DOMContentLoaded', function() {
  const slides = document.querySelectorAll('.banner-slide');
  
  if (slides.length > 1) {
    // Show navigation controls
    document.querySelector('.slider-nav.prev').style.display = 'flex';
    document.querySelector('.slider-nav.next').style.display = 'flex';
    document.querySelector('.slider-dots').style.display = 'flex';
    
    startAutoSlide();
    
    // Pause auto-slide on hover
    const sliderWrapper = document.querySelector('.banner-slider-wrapper');
    if (sliderWrapper) {
      sliderWrapper.addEventListener('mouseenter', stopAutoSlide);
      sliderWrapper.addEventListener('mouseleave', startAutoSlide);
    }
  }
});
</script>

{{> footer}}
