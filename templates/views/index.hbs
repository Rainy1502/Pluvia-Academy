{{> head}}
{{> header}}

<main class="site-root">
  <!-- Banner Slider -->
  <section class="banner-top">
    <div class="container">
      <div class="banner-slider-wrapper">
        {{#if banners.length}}
        <div class="banner-slider">
          {{#each banners}}
          <div class="banner-slide {{#if @first}}active{{/if}}">
            <img src="{{this.banner_image}}" alt="{{this.title}}" loading="{{#if @first}}eager{{else}}lazy{{/if}}" decoding="{{#if @first}}sync{{else}}async{{/if}}" />
            <div class="banner-overlay">
              <h2>{{this.title}}</h2>
            </div>
          </div>
          {{/each}}
        </div>
        
        <button class="slider-nav prev" onclick="moveSlide(-1)" aria-label="Previous" style="display:none;">â€¹</button>
        <button class="slider-nav next" onclick="moveSlide(1)" aria-label="Next" style="display:none;">â€º</button>
        
        <div class="slider-dots" style="display:none;">
          {{#each banners}}
          <span class="dot {{#if @first}}active{{/if}}" onclick="currentSlide({{@index}})"></span>
          {{/each}}
        </div>
        {{else}}
        <!-- Fallback ke banner default jika tidak ada banner dari database -->
        <div class="banner-wrap">
          <img src="/img/banner-hero.png" alt="Hero banner" loading="eager" decoding="sync" />
        </div>
        {{/if}}
      </div>
    </div>
  </section>

  <!-- About / illustration + text (Figma layout) -->
  <section id="about" class="about-row">
    <div class="container" style="max-width:1280px;margin:0 auto;">
      <div class="about-illustration animate-on-scroll">
        <img src="/img/illustration.png" alt="illustration" width="722" height="600" style="width:100%;border-radius:8px;" loading="lazy" decoding="async" />
      </div>
      <div class="about-card animate-on-scroll">
        <h2 class="section-title-gradient">Tentang Pluvia Academy</h2>
        <div class="about-text">
          <p>Pluvia Academy adalah akademi coding online yang dirancang untuk semua orang, dari pemula hingga profesional berpengalaman. Kami menawarkan berbagai program yang menarik dan interaktif untuk membantu Anda mempelajari bahasa pemrograman, membangun aplikasi web dan mobile, dan banyak lagi.</p>

          <p>Misi kami adalah untuk memberdayakan orang-orang dengan keterampilan coding yang mereka butuhkan untuk sukses di era digital ini. Kami percaya bahwa coding adalah alat yang ampuh yang dapat membantu Anda mencapai tujuan Anda, baik itu memulai bisnis Anda sendiri, beralih ke karir baru, atau hanya ingin lebih memahami dunia di sekitar Anda. Kami juga menyediakan materi dan keterampilan coding yang dibutuhkan banyak perusahaan di era digital ini, membuka pintu gerbang menuju karir yang cemerlang dan gaji yang menjanjikan.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Keunggulan / Features -->
  <section id="features" class="courses">
    <div class="container">
      <h2 class="section-title-white animate-on-scroll">Keunggulan Pluvia Academy</h2>
      <div class="grid" style="max-width:1100px;margin:0 auto;">
        <div class="course-card feature-card">
          <div class="feature-icon">ðŸ’¼</div>
          <div class="card-media"><img src="/img/Belajar.png" alt="Private class" width="240" height="140" loading="lazy" decoding="async"/></div>
          <h3>Private Class</h3>
          <p class="meta">Kelas kecil (avg 10 peserta) agar interaksi dengan instruktur maksimal dan materi terserap efektif.</p>
        </div>

        <div class="course-card feature-card">
          <div class="feature-icon">ðŸ“š</div>
          <div class="card-media"><img src="/img/Buku.png" alt="Materi" width="240" height="140" loading="lazy" decoding="async"/></div>
          <h3>Materi Lengkap</h3>
          <p class="meta">Materi up-to-date dan berbasis proyek, lengkap dengan modul praktek dan penilaian berkala.</p>
        </div>

        <div class="course-card feature-card">
          <div class="feature-icon">ðŸ’°</div>
          <div class="card-media"><img src="/img/Rupiah.png" alt="Harga" width="240" height="140" loading="lazy" decoding="async"/></div>
          <h3>Harga Bersahabat</h3>
          <p class="meta">Biaya terjangkau dengan opsi beasiswa dan diskon untuk kelompok serta paket bundling.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Anggota -->
  <section id="members" style="padding:48px 0;">
    <div class="container text-center">
      <h2 class="section-title-white animate-on-scroll">Anggota Kami</h2>
      <div style="display:flex;gap:48px;justify-content:center;margin-top:32px;flex-wrap:wrap;">
        <div class="member animate-on-scroll">
          <div class="member-image-wrapper">
            <img src="/img/member-dolly.png" alt="Dolly" width="180" height="180" class="avatar" />
          </div>
          <div class="member-name">Dolly Anggara</div>
        </div>
        <div class="member animate-on-scroll">
          <div class="member-image-wrapper">
            <img src="/img/member-fattan.png" alt="Fattan" width="180" height="180" class="avatar" />
          </div>
          <div class="member-name">Fattan Naufan Islami</div>
        </div>
      </div>
    </div>
  </section>

  <!-- Testimoni -->
  <section id="testimoni" style="padding:48px 0;">
    <div class="container" style="max-width:1100px;margin:0 auto;">
      <h2 class="section-title-white animate-on-scroll">Testimoni</h2>
      <div class="testimonial-card animate-on-scroll">
        <div class="quote-icon">"</div>
        <p class="testimonial-text">Saya sangat bersyukur telah mengikuti Pluvia Academy. Pluvia Academy telah membantu saya untuk meningkatkan nilai saya di sekolah. Saya sekarang lebih percaya diri dalam mengerjakan soal-soal dan saya lebih mudah memahami materi pelajaran.</p>
        <div class="testimonial-ident">
          <img src="/img/testimoni-mark.png" alt="mark" class="testimonial-overlap" width="126" height="124" />
          <div class="testimonial-meta">
            <div class="testimonial-name">Mark Wilson</div>
            <div class="testimonial-role">CEO of ReadBook</div>
          </div>
        </div>
      </div>
    </div>
  </section>

</main>

<style>
/* Scroll Animation */
.animate-on-scroll {
  opacity: 0;
  transform: translateY(30px);
  transition: opacity 0.8s ease, transform 0.8s ease;
}

.animate-on-scroll.visible {
  opacity: 1;
  transform: translateY(0);
}

/* Section Titles */
.section-title-gradient {
  font-size: 2.5rem;
  font-weight: 800;
  background: linear-gradient(135deg, #00d4ff 0%, #007bff 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  text-align: center;
  margin-bottom: 2rem;
  position: relative;
  display: inline-block;
  width: 100%;
}

.section-title-gradient::after {
  content: '';
  position: absolute;
  bottom: -10px;
  left: 50%;
  transform: translateX(-50%);
  width: 100px;
  height: 4px;
  background: linear-gradient(135deg, #00d4ff 0%, #007bff 100%);
  border-radius: 2px;
}

.section-title-white {
  color: #fff;
  text-align: center;
  font-size: 2.5rem;
  font-weight: 800;
  margin-bottom: 1rem;
  text-shadow: 5px 5px 10px rgba(0,0,0,0.3);
  position: relative;
  display: inline-block;
  width: 100%;
}

.section-title-white::after {
  content: '';
  position: absolute;
  bottom: -10px;
  left: 50%;
  transform: translateX(-50%);
  width: 100px;
  height: 4px;
  background: rgba(255, 255, 255, 0.8);
  border-radius: 2px;
}

/* About Section Enhancement */
.about-illustration {
  position: relative;
}

.about-illustration::before {
  content: '';
  position: absolute;
  top: -20px;
  left: -20px;
  width: 100%;
  height: 100%;
  background: linear-gradient(135deg, rgba(0, 212, 255, 0.1) 0%, rgba(0, 123, 255, 0.1) 100%);
  border-radius: 12px;
  z-index: -1;
}

.about-illustration img {
  box-shadow: 0 10px 40px rgba(0, 123, 255, 0.2);
  transition: transform 0.5s ease, box-shadow 0.5s ease;
}

.about-illustration:hover img {
  transform: scale(1.02) translateY(-5px);
  box-shadow: 0 15px 50px rgba(0, 123, 255, 0.3);
}

.about-card {
  position: relative;
}

.about-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: -30px;
  width: 5px;
  height: 100%;
  background: linear-gradient(180deg, #00d4ff 0%, #007bff 100%);
  border-radius: 3px;
}

/* Feature Cards Animation */
.feature-card {
  opacity: 0;
  transform: translateY(30px);
  animation: fadeInUp 0.6s ease forwards;
  transition: all 0.3s ease;
  position: relative;
  overflow: hidden;
  border: 2px solid transparent;
}

.feature-card:nth-child(1) {
  animation-delay: 0.1s;
}

.feature-card:nth-child(2) {
  animation-delay: 0.2s;
}

.feature-card:nth-child(3) {
  animation-delay: 0.3s;
}

@keyframes fadeInUp {
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.feature-card:hover {
  transform: translateY(-12px) scale(1.02);
  box-shadow: 0 20px 60px rgba(0, 123, 255, 0.25);
  border-color: rgba(0, 212, 255, 0.3);
}

.feature-icon {
  position: absolute;
  top: 15px;
  right: 15px;
  font-size: 2.5rem;
  opacity: 0.15;
  transition: all 0.3s ease;
  z-index: 1;
}

.feature-card:hover .feature-icon {
  opacity: 0.3;
  transform: scale(1.2) rotate(10deg);
}

.feature-card:hover .card-media img {
  transform: scale(1.1);
}

.feature-card .card-media {
  overflow: hidden;
  border-radius: 12px;
}

.feature-card .card-media img {
  transition: transform 0.4s ease;
}

.feature-card p {
  color: #ffffff;
  font-weight: 500;
  text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.3);
}

.feature-card::before {
  content: '';
  position: absolute;
  top: -50%;
  left: -50%;
  width: 200%;
  height: 200%;
  background: linear-gradient(135deg, transparent, rgba(0, 212, 255, 0.1), transparent);
  transform: rotate(45deg);
  transition: all 0.6s ease;
  opacity: 0;
}

.feature-card:hover::before {
  left: 100%;
  opacity: 1;
}

.feature-card h3 {
  color: #ffffff;
  font-weight: 700;
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
}

/* Member Cards Enhancement */
.member {
  transition: transform 0.4s ease;
}

.member-image-wrapper {
  position: relative;
  display: inline-block;
  margin-bottom: 15px;
}

.member:hover {
  transform: translateY(-10px);
}

.member .avatar {
  border-radius: 50%;
  border: none;
  transition: all 0.4s ease;
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
  width: 180px;
  height: 180px;
  object-fit: cover;
  display: block;
}

.member:hover .avatar {
  transform: scale(1.05);
  box-shadow: 0 12px 35px rgba(0, 123, 255, 0.4);
}

.member-name {
  font-weight: 600;
  font-size: 1.1rem;
  color: #fff;
  text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
}

/* Testimonial Enhancement */
.testimonial-card {
  position: relative;
  background: rgba(255, 255, 255, 0.95);
  padding: 40px;
  border-radius: 20px;
  box-shadow: 0 15px 50px rgba(0, 0, 0, 0.2);
  transition: all 0.4s ease;
  overflow: hidden;
}

.testimonial-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 5px;
  background: linear-gradient(90deg, #00d4ff 0%, #007bff 100%);
}

.testimonial-card:hover {
  transform: translateY(-8px);
  box-shadow: 0 20px 60px rgba(0, 123, 255, 0.3);
}

.quote-icon {
  position: absolute;
  top: 20px;
  left: 30px;
  font-size: 80px;
  color: rgba(0, 123, 255, 0.1);
  font-family: Georgia, serif;
  line-height: 1;
  font-weight: bold;
}

.testimonial-text {
  position: relative;
  z-index: 1;
  font-size: 1.1rem;
  line-height: 1.8;
  color: #333;
  font-style: italic;
  margin-bottom: 25px;
}

.testimonial-overlap {
  border-radius: 50%;
  border: none;
  transition: all 0.4s ease;
  box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2);
  width: 126px;
  height: 126px;
  object-fit: cover;
  display: block;
}

.testimonial-card:hover .testimonial-overlap {
  transform: scale(1.05);
  box-shadow: 0 8px 30px rgba(0, 123, 255, 0.3);
}

.testimonial-name {
  font-weight: 700;
  font-size: 1.2rem;
  color: #1a202c;
  transition: color 0.3s ease;
}

.testimonial-card:hover .testimonial-name {
  color: #007bff;
}

/* Banner Enhancement */
.banner-slider-wrapper {
  position: relative;
  width: 100%;
  max-width: 1280px;
  margin: 0 auto;
  overflow: hidden;
  border-radius: 16px;
  box-shadow: 0 15px 50px rgba(0, 0, 0, 0.3);
}

.banner-slider {
  position: relative;
  width: 100%;
  height: 400px;
}

.banner-slide {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  opacity: 0;
  transition: opacity 0.5s ease-in-out;
  display: flex;
  align-items: center;
  justify-content: center;
}

.banner-slide.active {
  opacity: 1;
}

.banner-slide img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: 12px;
}

.banner-overlay {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  background: linear-gradient(to top, rgba(0,0,0,0.8) 0%, rgba(0,0,0,0.4) 50%, transparent 100%);
  color: white;
  padding: 40px 30px 30px;
  border-radius: 0 0 12px 12px;
}

.banner-overlay h2 {
  font-size: 32px;
  font-weight: 800;
  margin: 0 0 10px 0;
  text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
}

.banner-overlay p {
  font-size: 16px;
  margin: 0;
  line-height: 1.5;
  max-width: 800px;
  text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
}

.slider-nav {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  background: rgba(255, 255, 255, 0.9);
  border: none;
  color: #333;
  font-size: 36px;
  font-weight: bold;
  cursor: pointer;
  padding: 12px 18px;
  border-radius: 50%;
  transition: all 0.3s ease;
  z-index: 10;
  width: 50px;
  height: 50px;
  display: flex;
  align-items: center;
  justify-content: center;
  line-height: 1;
}

.slider-nav:hover {
  background: rgba(255, 255, 255, 1);
  box-shadow: 0 4px 12px rgba(0,0,0,0.2);
}

.slider-nav.prev {
  left: 20px;
}

.slider-nav.next {
  right: 20px;
}

.slider-dots {
  position: absolute;
  bottom: 15px;
  left: 50%;
  transform: translateX(-50%);
  display: flex;
  gap: 10px;
  z-index: 10;
}

.dot {
  width: 12px;
  height: 12px;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.5);
  cursor: pointer;
  transition: all 0.3s ease;
}

.dot:hover {
  background: rgba(255, 255, 255, 0.8);
}

.dot.active {
  background: rgba(255, 255, 255, 1);
  width: 14px;
  height: 14px;
}

@media (max-width: 768px) {
  .banner-slider {
    height: 300px;
  }
  
  .banner-overlay h2 {
    font-size: 24px;
  }
  
  .banner-overlay p {
    font-size: 14px;
  }
  
  .slider-nav {
    width: 40px;
    height: 40px;
    font-size: 28px;
    padding: 8px 12px;
  }
  
  .slider-nav.prev {
    left: 10px;
  }
  
  .slider-nav.next {
    right: 10px;
  }
}

@media (max-width: 480px) {
  .banner-slider {
    height: 250px;
  }
  
  .banner-overlay {
    padding: 20px 15px 15px;
  }
  
  .banner-overlay h2 {
    font-size: 20px;
  }
  
  .banner-overlay p {
    font-size: 13px;
  }
}

/* Responsive adjustments for animations */
@media (max-width: 768px) {
  .section-title-gradient,
  .section-title-white {
    font-size: 1.8rem;
  }
  
  .feature-icon {
    font-size: 2rem;
    top: -15px;
    right: 10px;
  }
  
  .testimonial-card {
    padding: 30px;
  }
  
  .quote-icon {
    font-size: 60px;
    top: 15px;
    left: 20px;
  }
}
</style>

<script>
// Scroll Animation Observer
document.addEventListener('DOMContentLoaded', function() {
  const observerOptions = {
    threshold: 0.15,
    rootMargin: '0px 0px -50px 0px'
  };

  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.classList.add('visible');
        // Stop observing after animation triggers once
        observer.unobserve(entry.target);
      }
    });
  }, observerOptions);

  // Observe all elements with animate-on-scroll class
  const animatedElements = document.querySelectorAll('.animate-on-scroll');
  animatedElements.forEach(el => {
    observer.observe(el);
  });
});

// Banner Slider Script
let currentSlideIndex = 0;

function showSlide(n) {
  const slides = document.querySelectorAll('.banner-slide');
  const dots = document.querySelectorAll('.dot');
  
  if (!slides.length) return;
  
  if (n >= slides.length) currentSlideIndex = 0;
  if (n < 0) currentSlideIndex = slides.length - 1;
  
  slides.forEach(slide => slide.classList.remove('active'));
  dots.forEach(dot => dot.classList.remove('active'));
  
  slides[currentSlideIndex].classList.add('active');
  if (dots[currentSlideIndex]) {
    dots[currentSlideIndex].classList.add('active');
  }
}

function moveSlide(n) {
  currentSlideIndex += n;
  showSlide(currentSlideIndex);
}

function currentSlide(n) {
  currentSlideIndex = n;
  showSlide(currentSlideIndex);
}

// Auto-slide every 5 seconds
let autoSlideInterval;
function startAutoSlide() {
  autoSlideInterval = setInterval(() => {
    currentSlideIndex++;
    showSlide(currentSlideIndex);
  }, 5000);
}

function stopAutoSlide() {
  clearInterval(autoSlideInterval);
}

// Initialize slider
document.addEventListener('DOMContentLoaded', function() {
  const slides = document.querySelectorAll('.banner-slide');
  
  if (slides.length > 1) {
    // Show navigation controls
    document.querySelector('.slider-nav.prev').style.display = 'flex';
    document.querySelector('.slider-nav.next').style.display = 'flex';
    document.querySelector('.slider-dots').style.display = 'flex';
    
    startAutoSlide();
    
    // Pause auto-slide on hover
    const sliderWrapper = document.querySelector('.banner-slider-wrapper');
    if (sliderWrapper) {
      sliderWrapper.addEventListener('mouseenter', stopAutoSlide);
      sliderWrapper.addEventListener('mouseleave', startAutoSlide);
    }
  }
});
</script>

{{> footer}}
